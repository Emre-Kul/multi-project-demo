<script>
    module.exports = {
        onCreate() {
            this.visitCount = 0;
            this.chunkCount = 0;
        },
        onRequest(req) {
            this.visitCount++;
        },
        onChunk(req) {
            this.chunkCount++;
        }
    }
</script>

<template>
    <html>

    <head>
        <title>Main Page</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>

    <body>
        <fragment from="platform-gw" name="header"> </fragment>
        <fragment from="browsing-gw" name="album"> </fragment>
        <fragment from="browsing-gw" name="price"> </fragment>
        <fragment from="platform-gw" name="footer"> </fragment>
        <div class="container text-center">
            <h1>This page is viewed ${this.visitCount} times.</h1>
        </div>
        <div class="container text-center">
            <h1>Chunks sent: ${this.chunkCount}</h1>
        </div>
    </body>

    </html>
</template>
